{"version":3,"file":"view.js","mappings":"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","sources":["webpack://mosne-text-to-speech-block/external module \"@wordpress/interactivity\"","webpack://mosne-text-to-speech-block/webpack/bootstrap","webpack://mosne-text-to-speech-block/webpack/runtime/make namespace object","webpack://mosne-text-to-speech-block/./src/view.js"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport { store, getContext } from '@wordpress/interactivity';\n\nconst { state, actions } = store( 'mosne-text-to-speech-block', {\n\tstate: {\n\t\tisPlaying: false,\n\t\tcurrentVoice: null,\n\t\tpreferredVoice:\n\t\t\twindow.localStorage.getItem(\n\t\t\t\t'mosne-tts-lang-' + document.documentElement.lang\n\t\t\t) || null,\n\t\tutterance: null,\n\t\tvoices: [],\n\t\tcurrentSpeed:\n\t\t\twindow.localStorage.getItem(\n\t\t\t\t'mosne-tts-speed-' + document.documentElement.lang\n\t\t\t) || 1,\n\t\tcurrentPitch:\n\t\t\twindow.localStorage.getItem(\n\t\t\t\t'mosne-tts-pitch-' + document.documentElement.lang\n\t\t\t) || 1,\n\t},\n\tactions: {\n\t\tloadVoices() {\n\t\t\tconst availableVoices = window.speechSynthesis.getVoices();\n\t\t\tif (!availableVoices || availableVoices.length === 0) {\n\t\t\t\t// If voices aren't available yet, try again after a short delay\n\t\t\t\tsetTimeout(() => actions.loadVoices(), 100);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tstate.voices = availableVoices;\n\t\t\tstate.currentVoice = availableVoices[0];\n\n\t\t\tconst currentLocale = document.documentElement.lang;\n\t\t\tconst localVoices = availableVoices.filter((voice) =>\n\t\t\t\tvoice.lang.startsWith(currentLocale)\n\t\t\t);\n\n\t\t\tif (localVoices.length > 0) {\n\t\t\t\tstate.voices = localVoices;\n\t\t\t\tstate.currentVoice = localVoices[0];\n\t\t\t\tif (state.preferredVoice) {\n\t\t\t\t\tconst voice = localVoices.find(\n\t\t\t\t\t\t(v) => v.voiceURI === state.preferredVoice\n\t\t\t\t\t);\n\t\t\t\t\tif (voice) {\n\t\t\t\t\t\tstate.currentVoice = voice;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// Create initial utterance after a small delay\n\t\t\tsetTimeout(() => {\n\t\t\t\tactions.createUtterance();\n\t\t\t}, 50);\n\t\t},\n\t\tcreateUtterance() {\n\t\t\tconst content = actions.getContent();\n\t\t\t\n\t\t\tconst newUtterance = new window.SpeechSynthesisUtterance(content);\n\t\t\tnewUtterance.lang = document.documentElement.lang;\n\t\t\tnewUtterance.rate = state.currentSpeed;\n\t\t\tnewUtterance.pitch = state.currentPitch;\n\n\t\t\t// Get the main element for highlighting\n\t\t\tconst mainElement = document.querySelector('main');\n\n\t\t\tnewUtterance.onboundary = function(event) {\n\t\t\t\tif (!mainElement) return;\n\n\t\t\t\t// Remove previous highlights\n\t\t\t\tconst highlighted = mainElement.querySelectorAll('.mosne-tts-highlighted-word');\n\t\t\t\thighlighted.forEach(el => {\n\t\t\t\t\tconst parent = el.parentNode;\n\t\t\t\t\tparent.replaceChild(\n\t\t\t\t\t\tdocument.createTextNode(el.textContent),\n\t\t\t\t\t\tel\n\t\t\t\t\t);\n\t\t\t\t});\n\n\t\t\t\t// Safety check for valid boundary event\n\t\t\t\tif (!event.charIndex || !event.charLength || event.charIndex + event.charLength > content.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst range = document.createRange();\n\t\t\t\tconst walker = document.createTreeWalker(\n\t\t\t\t\tmainElement,\n\t\t\t\t\tNodeFilter.SHOW_TEXT,\n\t\t\t\t\t{\n\t\t\t\t\t\tacceptNode: function(node) {\n\t\t\t\t\t\t\t// Check if the node or any of its ancestors has the skip-speech class\n\t\t\t\t\t\t\tlet current = node.parentElement;\n\t\t\t\t\t\t\twhile (current) {\n\t\t\t\t\t\t\t\tif (current.classList && current.classList.contains('skip-speech')) {\n\t\t\t\t\t\t\t\t\treturn NodeFilter.FILTER_REJECT;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcurrent = current.parentElement;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn NodeFilter.FILTER_ACCEPT;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfalse\n\t\t\t\t);\n\n\t\t\t\tlet charCount = 0;\n\t\t\t\tlet startContainer = null;\n\t\t\t\tlet startOffset = 0;\n\t\t\t\tlet endContainer = null;\n\t\t\t\tlet endOffset = 0;\n\n\t\t\t\t// Find the text node and offset for highlighting\n\t\t\t\tlet node;\n\t\t\t\twhile ((node = walker.nextNode())) {\n\t\t\t\t\tconst nodeLength = node.length;\n\t\t\t\t\tif (!startContainer && charCount + nodeLength > event.charIndex) {\n\t\t\t\t\t\tstartContainer = node;\n\t\t\t\t\t\tstartOffset = event.charIndex - charCount;\n\t\t\t\t\t}\n\t\t\t\t\tif (startContainer && charCount + nodeLength > event.charIndex + event.charLength) {\n\t\t\t\t\t\tendContainer = node;\n\t\t\t\t\t\tendOffset = Math.min(event.charIndex + event.charLength - charCount, node.length);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcharCount += nodeLength;\n\t\t\t\t}\n\n\t\t\t\t// Only proceed if we found valid start and end points\n\t\t\t\tif (startContainer && endContainer && \n\t\t\t\t\tstartOffset <= startContainer.length && \n\t\t\t\t\tendOffset <= endContainer.length) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\trange.setStart(startContainer, startOffset);\n\t\t\t\t\t\trange.setEnd(endContainer, endOffset);\n\t\t\t\t\t\t\n\t\t\t\t\t\tconst span = document.createElement('span');\n\t\t\t\t\t\tspan.className = 'mosne-tts-highlighted-word';\n\t\t\t\t\t\trange.surroundContents(span);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t// Silently handle any range errors\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (state.currentVoice) {\n\t\t\t\tconst voice = state.voices.find(\n\t\t\t\t\t(v) => v.voiceURI === state.currentVoice.voiceURI\n\t\t\t\t);\n\t\t\t\tnewUtterance.voice = voice;\n\t\t\t}\n\t\t\tstate.utterance = newUtterance;\n\t\t},\n\t\tupdateUtterance() {\n\t\t\tconst utterance = state.utterance;\n\t\t\tif (utterance) {\n\t\t\t\twindow.speechSynthesis.cancel();\n\t\t\t\t\n\t\t\t\t// Remove any existing highlights\n\t\t\t\tconst mainElement = document.querySelector('main');\n\t\t\t\tif (mainElement) {\n\t\t\t\t\tconst highlighted = mainElement.querySelectorAll('.mosne-tts-highlighted-word');\n\t\t\t\t\thighlighted.forEach(el => {\n\t\t\t\t\t\tconst parent = el.parentNode;\n\t\t\t\t\t\tparent.replaceChild(\n\t\t\t\t\t\t\tdocument.createTextNode(el.textContent),\n\t\t\t\t\t\t\tel\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Update state directly without relying on context\n\t\t\t\tstate.isPlaying = false;\n\t\t\t\t\n\t\t\t\t// Check if synthesis is ready using a promise\n\t\t\t\tconst checkSynthesisReady = () => {\n\t\t\t\t\treturn new Promise((resolve) => {\n\t\t\t\t\t\tconst check = () => {\n\t\t\t\t\t\t\tif (!window.speechSynthesis.speaking && !window.speechSynthesis.pending) {\n\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetTimeout(check, 100);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcheck();\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\t// Wait for synthesis to be ready before creating new utterance\n\t\t\t\tcheckSynthesisReady().then(() => {\n\t\t\t\t\tactions.createUtterance();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tPlay() {\n\t\t\tconst context = getContext();\n\t\t\tcontext.isPlaying = true;\n\n\t\t\t// If paused, just resume\n\t\t\tif (window.speechSynthesis.paused) {\n\t\t\t\twindow.speechSynthesis.resume();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Chrome fix: force reset synthesis if it's in a bad state\n\t\t\tif (window.speechSynthesis.speaking) {\n\t\t\t\twindow.speechSynthesis.cancel();\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (state.utterance) {\n\t\t\t\t\t\twindow.speechSynthesis.speak(state.utterance);\n\t\t\t\t\t}\n\t\t\t\t}, 50);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Start new speech if not already speaking\n\t\t\tif (state.utterance) {\n\t\t\t\twindow.speechSynthesis.speak(state.utterance);\n\t\t\t}\n\t\t},\n\t\tPause() {\n\t\t\tconst context = getContext();\n\t\t\tcontext.isPlaying = false;\n\t\t\t\n\t\t\t// Only pause if currently speaking and the browser supports pausing\n\t\t\tif (window.speechSynthesis.speaking && !window.speechSynthesis.paused) {\n\t\t\t\twindow.speechSynthesis.pause();\n\t\t\t}\n\t\t},\n\t\tRestart() {\n\t\t\tconst context = getContext();\n\t\t\tcontext.isPlaying = false;\n\t\t\twindow.speechSynthesis.cancel();\n\t\t\t\n\t\t\t// Remove any existing highlights\n\t\t\tconst mainElement = document.querySelector('main');\n\t\t\tconst highlighted = mainElement.querySelectorAll('.mosne-tts-highlighted-word');\n\t\t\thighlighted.forEach(el => {\n\t\t\t\tconst parent = el.parentNode;\n\t\t\t\tparent.replaceChild(\n\t\t\t\t\tdocument.createTextNode(el.textContent),\n\t\t\t\t\tel\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\tchangeVoice(e) {\n\t\t\tconst context = getContext();\n\t\t\tcontext.isPlaying = false;\n\t\t\t\n\t\t\t// Cancel any ongoing speech\n\t\t\twindow.speechSynthesis.cancel();\n\t\t\t\n\t\t\tconst voice = state.voices.find(\n\t\t\t\t(v) => v.voiceURI === e.target.value\n\t\t\t);\n\t\t\t\n\t\t\tif (voice) {\n\t\t\t\tstate.currentVoice = voice;\n\t\t\t\twindow.localStorage.setItem(\n\t\t\t\t\t'mosne-tts-lang-' + document.documentElement.lang,\n\t\t\t\t\tvoice.voiceURI\n\t\t\t\t);\n\t\t\t\t\n\t\t\t\t// Small delay to ensure speech synthesis is ready\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tactions.updateUtterance();\n\t\t\t\t}, 50);\n\t\t\t}\n\t\t},\n\t\tchangeSpeed( e ) {\n\t\t\tstate.currentSpeed = e.target.value;\n\t\t\twindow.localStorage.setItem(\n\t\t\t\t'mosne-tts-speed-' + document.documentElement.lang,\n\t\t\t\te.target.value\n\t\t\t);\n\t\t\tactions.updateUtterance();\n\t\t},\n\t\tchangePitch( e ) {\n\t\t\tstate.currentPitch = e.target.value;\n\t\t\twindow.localStorage.setItem(\n\t\t\t\t'mosne-tts-pitch-' + document.documentElement.lang,\n\t\t\t\te.target.value\n\t\t\t);\n\t\t\tactions.updateUtterance();\n\t\t},\n\t\ttoggleSettings() {\n\t\t\tconst context = getContext();\n\t\t\tcontext.showSettings = ! context.showSettings;\n\t\t},\n\t\tgetContent() {\n\t\t\t// grab all the text content from the page inside the main element exclude recursivelly the text inside the class skip-speach\n\t\t\tlet content = '';\n\t\t\tlet cloneMain = document.querySelector( 'main' ).cloneNode( true );\n\t\t\tif ( cloneMain ) {\n\t\t\t\tconst skip = cloneMain.querySelectorAll( '.skip-speech' );\n\t\t\t\tskip.forEach( ( el ) => {\n\t\t\t\t\tel.remove();\n\t\t\t\t} );\n\t\t\t\tcontent = cloneMain.textContent;\n\t\t\t\tcloneMain = null;\n\t\t\t}\n\t\t\treturn content;\n\t\t},\n\t},\n\tcallbacks: {\n\t\tinit() {\n\t\t\t// Initialize voices when available\n\t\t\tif ( window.speechSynthesis ) {\n\t\t\t\twindow.speechSynthesis.cancel();\n\t\t\t\tactions.loadVoices();\n\t\t\t\tif ( window.speechSynthesis.onvoiceschanged !== undefined ) {\n\t\t\t\t\twindow.speechSynthesis.onvoiceschanged = actions.loadVoices;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tisSelected() {\n\t\t\tconst context = getContext();\n\t\t\treturn context.voice.voiceURI === state.currentVoice.voiceURI;\n\t\t},\n\t},\n} );\n\nclass TextToSpeechManager {\n\tconstructor() {\n\t\tthis.utterance = null;\n\t\tthis.highlightedElement = null;\n\t\tthis.originalText = '';\n\t\tthis.synth = window.speechSynthesis;\n\t}\n\n\tspeak(text, element) {\n\t\t// Cancel any ongoing speech\n\t\tthis.synth.cancel();\n\t\t\n\t\tthis.utterance = new SpeechSynthesisUtterance(text);\n\t\tthis.highlightedElement = element;\n\t\tthis.originalText = text;\n\n\t\t// Split text into words while preserving punctuation\n\t\tconst words = text.match(/[\\w'-]+|[.,!?;]|\\s+/g);\n\t\tlet currentIndex = 0;\n\n\t\tthis.utterance.onboundary = (event) => {\n\t\t\tif (event.name === 'word') {\n\t\t\t\t// Remove previous highlighting\n\t\t\t\tthis.highlightedElement.innerHTML = this.originalText;\n\t\t\t\t\n\t\t\t\t// Calculate the word position\n\t\t\t\tconst wordPosition = event.charIndex;\n\t\t\t\tconst wordLength = event.charLength || 1;\n\n\t\t\t\t// Create highlighted version\n\t\t\t\tconst beforeText = this.originalText.substring(0, wordPosition);\n\t\t\t\tconst highlightedWord = this.originalText.substring(wordPosition, wordPosition + wordLength);\n\t\t\t\tconst afterText = this.originalText.substring(wordPosition + wordLength);\n\n\t\t\t\t// Apply highlighting\n\t\t\t\tthis.highlightedElement.innerHTML = `${beforeText}<span class=\"highlighted-word\">${highlightedWord}</span>${afterText}`;\n\t\t\t}\n\t\t};\n\n\t\tthis.utterance.onend = () => {\n\t\t\t// Reset highlighting when speech ends\n\t\t\tif (this.highlightedElement) {\n\t\t\t\tthis.highlightedElement.innerHTML = this.originalText;\n\t\t\t}\n\t\t};\n\n\t\tthis.synth.speak(this.utterance);\n\t}\n\n\tstop() {\n\t\tthis.synth.cancel();\n\t\tif (this.highlightedElement) {\n\t\t\tthis.highlightedElement.innerHTML = this.originalText;\n\t\t}\n\t}\n}\n\n// Add CSS styles for highlighting\nconst style = document.createElement('style');\nstyle.textContent = `\n\t.mosne-tts-highlighted-word {\n\t\toutline: 2px solid currentColor;\n\t\toutline-offset: 3px;\n\t}\n`;\ndocument.head.appendChild(style);\n"],"names":["store","getContext","state","actions","isPlaying","currentVoice","preferredVoice","window","localStorage","getItem","document","documentElement","lang","utterance","voices","currentSpeed","currentPitch","loadVoices","availableVoices","speechSynthesis","getVoices","length","setTimeout","currentLocale","localVoices","filter","voice","startsWith","find","v","voiceURI","createUtterance","content","getContent","newUtterance","SpeechSynthesisUtterance","rate","pitch","mainElement","querySelector","onboundary","event","highlighted","querySelectorAll","forEach","el","parent","parentNode","replaceChild","createTextNode","textContent","charIndex","charLength","range","createRange","walker","createTreeWalker","NodeFilter","SHOW_TEXT","acceptNode","node","current","parentElement","classList","contains","FILTER_REJECT","FILTER_ACCEPT","charCount","startContainer","startOffset","endContainer","endOffset","nextNode","nodeLength","Math","min","setStart","setEnd","span","createElement","className","surroundContents","e","updateUtterance","cancel","checkSynthesisReady","Promise","resolve","check","speaking","pending","then","Play","context","paused","resume","speak","Pause","pause","Restart","changeVoice","target","value","setItem","changeSpeed","changePitch","toggleSettings","showSettings","cloneMain","cloneNode","skip","remove","callbacks","init","onvoiceschanged","undefined","isSelected","TextToSpeechManager","constructor","highlightedElement","originalText","synth","text","element","words","match","currentIndex","name","innerHTML","wordPosition","wordLength","beforeText","substring","highlightedWord","afterText","onend","stop","style","head","appendChild"],"sourceRoot":""}