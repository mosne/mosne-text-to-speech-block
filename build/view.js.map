{"version":3,"file":"view.js","mappings":";;;;;;;;;AAAA;;;;;;SCAA;SACA;;SAEA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;;SAEA;SACA;;SAEA;SACA;SACA;;;;;UCtBA;UACA;UACA;UACA,uDAAuD,iBAAiB;UACxE;UACA,gDAAgD,aAAa;UAC7D;;;;;;;;;;;;ACNA;AACA;AACA;AAC6D;AAE7D,MAAM;EAAEE,KAAK;EAAEC;AAAQ,CAAC,GAAGH,+DAAK,CAAE,4BAA4B,EAAE;EAC/DE,KAAK,EAAE;IACNE,SAAS,EAAE,KAAK;IAChBC,YAAY,EAAE,IAAI;IAClBC,cAAc,EACbC,MAAM,CAACC,YAAY,CAACC,OAAO,CAC1B,iBAAiB,GAAGC,QAAQ,CAACC,eAAe,CAACC,IAC9C,CAAC,IAAI,IAAI;IACVC,SAAS,EAAE,IAAI;IACfC,MAAM,EAAE,EAAE;IACVC,YAAY,EACXR,MAAM,CAACC,YAAY,CAACC,OAAO,CAC1B,kBAAkB,GAAGC,QAAQ,CAACC,eAAe,CAACC,IAC/C,CAAC,IAAI,CAAC;IACPI,YAAY,EACXT,MAAM,CAACC,YAAY,CAACC,OAAO,CAC1B,kBAAkB,GAAGC,QAAQ,CAACC,eAAe,CAACC,IAC/C,CAAC,IAAI;EACP,CAAC;EACDT,OAAO,EAAE;IACRc,UAAUA,CAAA,EAAG;MACZ,MAAMC,eAAe,GAAGX,MAAM,CAACY,eAAe,CAACC,SAAS,CAAC,CAAC;MAC1D,IAAK,CAAEF,eAAe,IAAIA,eAAe,CAACG,MAAM,KAAK,CAAC,EAAG;QACxD;QACAC,UAAU,CAAE,MAAMnB,OAAO,CAACc,UAAU,CAAC,CAAC,EAAE,GAAI,CAAC;QAC7C;MACD;MAEAf,KAAK,CAACY,MAAM,GAAGI,eAAe;MAC9BhB,KAAK,CAACG,YAAY,GAAGa,eAAe,CAAE,CAAC,CAAE;MAEzC,MAAMK,aAAa,GAAGb,QAAQ,CAACC,eAAe,CAACC,IAAI;MACnD,MAAMY,WAAW,GAAGN,eAAe,CAACO,MAAM,CAAIC,KAAK,IAClDA,KAAK,CAACd,IAAI,CAACe,UAAU,CAAEJ,aAAc,CACtC,CAAC;MAED,IAAKC,WAAW,CAACH,MAAM,GAAG,CAAC,EAAG;QAC7BnB,KAAK,CAACY,MAAM,GAAGU,WAAW;QAC1BtB,KAAK,CAACG,YAAY,GAAGmB,WAAW,CAAE,CAAC,CAAE;QACrC,IAAKtB,KAAK,CAACI,cAAc,EAAG;UAC3B,MAAMoB,KAAK,GAAGF,WAAW,CAACI,IAAI,CAC3BC,CAAC,IAAMA,CAAC,CAACC,QAAQ,KAAK5B,KAAK,CAACI,cAC/B,CAAC;UACD,IAAKoB,KAAK,EAAG;YACZxB,KAAK,CAACG,YAAY,GAAGqB,KAAK;UAC3B;QACD;MACD;;MAEA;MACAJ,UAAU,CAAE,MAAM;QACjBnB,OAAO,CAAC4B,eAAe,CAAC,CAAC;MAC1B,CAAC,EAAE,EAAG,CAAC;IACR,CAAC;IACDA,eAAeA,CAAA,EAAG;MACjB,MAAMC,OAAO,GAAG7B,OAAO,CAAC8B,UAAU,CAAC,CAAC;MAEpC,MAAMC,YAAY,GAAG,IAAI3B,MAAM,CAAC4B,wBAAwB,CAAEH,OAAQ,CAAC;MACnEE,YAAY,CAACtB,IAAI,GAAGF,QAAQ,CAACC,eAAe,CAACC,IAAI;MACjDsB,YAAY,CAACE,IAAI,GAAGlC,KAAK,CAACa,YAAY;MACtCmB,YAAY,CAACG,KAAK,GAAGnC,KAAK,CAACc,YAAY;;MAEvC;MACA,MAAMsB,WAAW,GAAG5B,QAAQ,CAAC6B,aAAa,CAAE,MAAO,CAAC;MAEpDL,YAAY,CAACM,UAAU,GAAG,UAAWC,KAAK,EAAG;QAC5C,IAAK,CAAEH,WAAW,EAAG;UACpB;QACD;;QAEA;QACA,MAAMI,WAAW,GAAGJ,WAAW,CAACK,gBAAgB,CAC/C,6BACD,CAAC;QACDD,WAAW,CAACE,OAAO,CAAIC,OAAO,IAAM;UACnC;UACA,MAAMC,MAAM,GAAGD,OAAO,CAACE,UAAU;UACjCD,MAAM,CAACE,YAAY,CAClBtC,QAAQ,CAACuC,cAAc,CAAEJ,OAAO,CAACK,WAAY,CAAC,EAC9CL,OACD,CAAC;QACF,CAAE,CAAC;;QAEH;QACA,IACC,CAAEJ,KAAK,CAACU,SAAS,IACjB,CAAEV,KAAK,CAACW,UAAU,IAClBX,KAAK,CAACU,SAAS,GAAGV,KAAK,CAACW,UAAU,GAAGpB,OAAO,CAACX,MAAM,EAClD;UACD;QACD;QAEA,IAAI;UACH,MAAMgC,MAAM,GAAG3C,QAAQ,CAAC4C,gBAAgB,CACvChB,WAAW,EACXiB,UAAU,CAACC,SAAS,EACpB;YACCC,UAAUA,CAAEC,IAAI,EAAG;cAClB,IAAIC,OAAO,GAAGD,IAAI,CAACE,aAAa;cAChC,OAAQD,OAAO,EAAG;gBACjB,IACCA,OAAO,CAACE,SAAS,IACjBF,OAAO,CAACE,SAAS,CAACC,QAAQ,CACzB,aACD,CAAC,EACA;kBACD,OAAOP,UAAU,CAACQ,aAAa;gBAChC;gBACAJ,OAAO,GAAGA,OAAO,CAACC,aAAa;cAChC;cACA,OAAOL,UAAU,CAACS,aAAa;YAChC;UACD,CAAC,EACD,KACD,CAAC;UAED,IAAIC,SAAS,GAAG,CAAC;UACjB,IAAIP,IAAI;;UAER;UACA,OAAUA,IAAI,GAAGL,MAAM,CAACa,QAAQ,CAAC,CAAC,EAAK;YACtC,MAAMC,UAAU,GAAGT,IAAI,CAACrC,MAAM;YAC9B,IAAK4C,SAAS,GAAGE,UAAU,GAAG1B,KAAK,CAACU,SAAS,EAAG;cAC/C;cACA,MAAMiB,YAAY,GAAG1D,QAAQ,CAAC6B,aAAa,CAC1C,oDACD,CAAC;cACD,MAAM8B,mBAAmB,GACxBD,YAAY,EAAEE,OAAO,CAACD,mBAAmB,IACzC,SAAS;cACV,MAAME,cAAc,GACnBH,YAAY,EAAEE,OAAO,CAACC,cAAc,IACpC,SAAS;;cAEV;cACA,MAAM1B,OAAO,GAAGnC,QAAQ,CAAC8D,aAAa,CAAE,MAAO,CAAC;cAChD3B,OAAO,CAAC4B,SAAS,GAAG,4BAA4B;cAChD5B,OAAO,CAAC6B,KAAK,CAACC,WAAW,CACxB,0BAA0B,EAC1BN,mBACD,CAAC;cACDxB,OAAO,CAAC6B,KAAK,CAACC,WAAW,CACxB,6BAA6B,EAC7BJ,cACD,CAAC;;cAED;cACA1B,OAAO,CAACK,WAAW,GAAGQ,IAAI,CAACR,WAAW;cACtCQ,IAAI,CAACX,UAAU,CAACC,YAAY,CAAEH,OAAO,EAAEa,IAAK,CAAC;cAC7C;YACD;YACAO,SAAS,IAAIE,UAAU;UACxB;QACD,CAAC,CAAC,OAAQS,CAAC,EAAG;UACb;QAAA;MAEF,CAAC;;MAED;MACA1C,YAAY,CAAC2C,KAAK,GAAG,YAAY;QAChC,IAAKvC,WAAW,EAAG;UAClB,MAAMI,WAAW,GAAGJ,WAAW,CAACK,gBAAgB,CAC/C,6BACD,CAAC;UACDD,WAAW,CAACE,OAAO,CAAIC,OAAO,IAAM;YACnC,MAAMC,MAAM,GAAGD,OAAO,CAACE,UAAU;YACjCD,MAAM,CAACE,YAAY,CAClBtC,QAAQ,CAACuC,cAAc,CAAEJ,OAAO,CAACK,WAAY,CAAC,EAC9CL,OACD,CAAC;UACF,CAAE,CAAC;QACJ;MACD,CAAC;MAED,IAAK3C,KAAK,CAACG,YAAY,EAAG;QACzB,MAAMqB,KAAK,GAAGxB,KAAK,CAACY,MAAM,CAACc,IAAI,CAC5BC,CAAC,IAAMA,CAAC,CAACC,QAAQ,KAAK5B,KAAK,CAACG,YAAY,CAACyB,QAC5C,CAAC;QACDI,YAAY,CAACR,KAAK,GAAGA,KAAK;MAC3B;MACAxB,KAAK,CAACW,SAAS,GAAGqB,YAAY;IAC/B,CAAC;IACD4C,eAAeA,CAAA,EAAG;MACjB,MAAMjE,SAAS,GAAGX,KAAK,CAACW,SAAS;MACjC,IAAKA,SAAS,EAAG;QAChBN,MAAM,CAACY,eAAe,CAAC4D,MAAM,CAAC,CAAC;;QAE/B;QACA,MAAMzC,WAAW,GAAG5B,QAAQ,CAAC6B,aAAa,CAAE,MAAO,CAAC;QACpD,IAAKD,WAAW,EAAG;UAClB,MAAMI,WAAW,GAAGJ,WAAW,CAACK,gBAAgB,CAC/C,6BACD,CAAC;UACDD,WAAW,CAACE,OAAO,CAAIoC,EAAE,IAAM;YAC9B,MAAMlC,MAAM,GAAGkC,EAAE,CAACjC,UAAU;YAC5BD,MAAM,CAACE,YAAY,CAClBtC,QAAQ,CAACuC,cAAc,CAAE+B,EAAE,CAAC9B,WAAY,CAAC,EACzC8B,EACD,CAAC;UACF,CAAE,CAAC;QACJ;;QAEA;QACA9E,KAAK,CAACE,SAAS,GAAG,KAAK;;QAEvB;QACA,MAAM6E,mBAAmB,GAAGA,CAAA,KAAM;UACjC,OAAO,IAAIC,OAAO,CAAIC,OAAO,IAAM;YAClC,MAAMC,KAAK,GAAGA,CAAA,KAAM;cACnB,IACC,CAAE7E,MAAM,CAACY,eAAe,CAACkE,QAAQ,IACjC,CAAE9E,MAAM,CAACY,eAAe,CAACmE,OAAO,EAC/B;gBACDH,OAAO,CAAC,CAAC;cACV,CAAC,MAAM;gBACN7D,UAAU,CAAE8D,KAAK,EAAE,GAAI,CAAC;cACzB;YACD,CAAC;YACDA,KAAK,CAAC,CAAC;UACR,CAAE,CAAC;QACJ,CAAC;;QAED;QACAH,mBAAmB,CAAC,CAAC,CAACM,IAAI,CAAE,MAAM;UACjCpF,OAAO,CAAC4B,eAAe,CAAC,CAAC;QAC1B,CAAE,CAAC;MACJ;IACD,CAAC;IACDyD,IAAIA,CAAA,EAAG;MACN,MAAMC,OAAO,GAAGxF,oEAAU,CAAC,CAAC;MAC5BwF,OAAO,CAACrF,SAAS,GAAG,IAAI;;MAExB;MACA,IAAKG,MAAM,CAACY,eAAe,CAACuE,MAAM,EAAG;QACpCnF,MAAM,CAACY,eAAe,CAACwE,MAAM,CAAC,CAAC;QAC/B;MACD;;MAEA;MACA,IAAKpF,MAAM,CAACY,eAAe,CAACkE,QAAQ,EAAG;QACtC9E,MAAM,CAACY,eAAe,CAAC4D,MAAM,CAAC,CAAC;QAC/BzD,UAAU,CAAE,MAAM;UACjB,IAAKpB,KAAK,CAACW,SAAS,EAAG;YACtBN,MAAM,CAACY,eAAe,CAACyE,KAAK,CAAE1F,KAAK,CAACW,SAAU,CAAC;UAChD;QACD,CAAC,EAAE,EAAG,CAAC;QACP;MACD;;MAEA;MACA,IAAKX,KAAK,CAACW,SAAS,EAAG;QACtBN,MAAM,CAACY,eAAe,CAACyE,KAAK,CAAE1F,KAAK,CAACW,SAAU,CAAC;MAChD;IACD,CAAC;IACDgF,KAAKA,CAAA,EAAG;MACP,MAAMJ,OAAO,GAAGxF,oEAAU,CAAC,CAAC;MAC5BwF,OAAO,CAACrF,SAAS,GAAG,KAAK;;MAEzB;MACA,IACCG,MAAM,CAACY,eAAe,CAACkE,QAAQ,IAC/B,CAAE9E,MAAM,CAACY,eAAe,CAACuE,MAAM,EAC9B;QACDnF,MAAM,CAACY,eAAe,CAAC2E,KAAK,CAAC,CAAC;MAC/B;IACD,CAAC;IACDC,OAAOA,CAAA,EAAG;MACT,MAAMN,OAAO,GAAGxF,oEAAU,CAAC,CAAC;MAC5BwF,OAAO,CAACrF,SAAS,GAAG,KAAK;MACzBG,MAAM,CAACY,eAAe,CAAC4D,MAAM,CAAC,CAAC;;MAE/B;MACA,MAAMzC,WAAW,GAAG5B,QAAQ,CAAC6B,aAAa,CAAE,MAAO,CAAC;MACpD,MAAMG,WAAW,GAAGJ,WAAW,CAACK,gBAAgB,CAC/C,6BACD,CAAC;MACDD,WAAW,CAACE,OAAO,CAAIoC,EAAE,IAAM;QAC9B,MAAMlC,MAAM,GAAGkC,EAAE,CAACjC,UAAU;QAC5BD,MAAM,CAACE,YAAY,CAClBtC,QAAQ,CAACuC,cAAc,CAAE+B,EAAE,CAAC9B,WAAY,CAAC,EACzC8B,EACD,CAAC;MACF,CAAE,CAAC;IACJ,CAAC;IACDgB,WAAWA,CAAEpB,CAAC,EAAG;MAChB,MAAMa,OAAO,GAAGxF,oEAAU,CAAC,CAAC;MAC5BwF,OAAO,CAACrF,SAAS,GAAG,KAAK;;MAEzB;MACAG,MAAM,CAACY,eAAe,CAAC4D,MAAM,CAAC,CAAC;MAE/B,MAAMrD,KAAK,GAAGxB,KAAK,CAACY,MAAM,CAACc,IAAI,CAC5BC,CAAC,IAAMA,CAAC,CAACC,QAAQ,KAAK8C,CAAC,CAACqB,MAAM,CAACC,KAClC,CAAC;MAED,IAAKxE,KAAK,EAAG;QACZxB,KAAK,CAACG,YAAY,GAAGqB,KAAK;QAC1BnB,MAAM,CAACC,YAAY,CAAC2F,OAAO,CAC1B,iBAAiB,GAAGzF,QAAQ,CAACC,eAAe,CAACC,IAAI,EACjDc,KAAK,CAACI,QACP,CAAC;;QAED;QACAR,UAAU,CAAE,MAAM;UACjBnB,OAAO,CAAC2E,eAAe,CAAC,CAAC;QAC1B,CAAC,EAAE,EAAG,CAAC;MACR;IACD,CAAC;IACDsB,WAAWA,CAAExB,CAAC,EAAG;MAChB,MAAMa,OAAO,GAAGxF,oEAAU,CAAC,CAAC;MAC5BwF,OAAO,CAACrF,SAAS,GAAG,KAAK;;MAEzB;MACAG,MAAM,CAACY,eAAe,CAAC4D,MAAM,CAAC,CAAC;;MAE/B;MACA7E,KAAK,CAACa,YAAY,GAAG6D,CAAC,CAACqB,MAAM,CAACC,KAAK;MACnC3F,MAAM,CAACC,YAAY,CAAC2F,OAAO,CAC1B,kBAAkB,GAAGzF,QAAQ,CAACC,eAAe,CAACC,IAAI,EAClDgE,CAAC,CAACqB,MAAM,CAACC,KACV,CAAC;;MAED;MACA,MAAMjB,mBAAmB,GAAGA,CAAA,KAAM;QACjC,OAAO,IAAIC,OAAO,CAAIC,OAAO,IAAM;UAClC,MAAMC,KAAK,GAAGA,CAAA,KAAM;YACnB,IACC,CAAE7E,MAAM,CAACY,eAAe,CAACkE,QAAQ,IACjC,CAAE9E,MAAM,CAACY,eAAe,CAACmE,OAAO,EAC/B;cACDH,OAAO,CAAC,CAAC;YACV,CAAC,MAAM;cACN7D,UAAU,CAAE8D,KAAK,EAAE,GAAI,CAAC;YACzB;UACD,CAAC;UACDA,KAAK,CAAC,CAAC;QACR,CAAE,CAAC;MACJ,CAAC;;MAED;MACAH,mBAAmB,CAAC,CAAC,CAACM,IAAI,CAAE,MAAM;QACjCpF,OAAO,CAAC4B,eAAe,CAAC,CAAC;QACzB,IAAK0D,OAAO,CAACrF,SAAS,EAAG;UACxBkB,UAAU,CAAE,MAAM;YACjBf,MAAM,CAACY,eAAe,CAACyE,KAAK,CAAE1F,KAAK,CAACW,SAAU,CAAC;UAChD,CAAC,EAAE,EAAG,CAAC;QACR;MACD,CAAE,CAAC;IACJ,CAAC;IACDwF,WAAWA,CAAEzB,CAAC,EAAG;MAChB,MAAMa,OAAO,GAAGxF,oEAAU,CAAC,CAAC;MAC5BwF,OAAO,CAACrF,SAAS,GAAG,KAAK;;MAEzB;MACAG,MAAM,CAACY,eAAe,CAAC4D,MAAM,CAAC,CAAC;;MAE/B;MACA7E,KAAK,CAACc,YAAY,GAAG4D,CAAC,CAACqB,MAAM,CAACC,KAAK;MACnC3F,MAAM,CAACC,YAAY,CAAC2F,OAAO,CAC1B,kBAAkB,GAAGzF,QAAQ,CAACC,eAAe,CAACC,IAAI,EAClDgE,CAAC,CAACqB,MAAM,CAACC,KACV,CAAC;;MAED;MACA,MAAMjB,mBAAmB,GAAGA,CAAA,KAAM;QACjC,OAAO,IAAIC,OAAO,CAAIC,OAAO,IAAM;UAClC,MAAMC,KAAK,GAAGA,CAAA,KAAM;YACnB,IACC,CAAE7E,MAAM,CAACY,eAAe,CAACkE,QAAQ,IACjC,CAAE9E,MAAM,CAACY,eAAe,CAACmE,OAAO,EAC/B;cACDH,OAAO,CAAC,CAAC;YACV,CAAC,MAAM;cACN7D,UAAU,CAAE8D,KAAK,EAAE,GAAI,CAAC;YACzB;UACD,CAAC;UACDA,KAAK,CAAC,CAAC;QACR,CAAE,CAAC;MACJ,CAAC;;MAED;MACAH,mBAAmB,CAAC,CAAC,CAACM,IAAI,CAAE,MAAM;QACjCpF,OAAO,CAAC4B,eAAe,CAAC,CAAC;QACzB,IAAK0D,OAAO,CAACrF,SAAS,EAAG;UACxBkB,UAAU,CAAE,MAAM;YACjBf,MAAM,CAACY,eAAe,CAACyE,KAAK,CAAE1F,KAAK,CAACW,SAAU,CAAC;UAChD,CAAC,EAAE,EAAG,CAAC;QACR;MACD,CAAE,CAAC;IACJ,CAAC;IACDyF,cAAcA,CAAA,EAAG;MAChB,MAAMb,OAAO,GAAGxF,oEAAU,CAAC,CAAC;MAC5BwF,OAAO,CAACc,YAAY,GAAG,CAAEd,OAAO,CAACc,YAAY;IAC9C,CAAC;IACDtE,UAAUA,CAAA,EAAG;MACZ;MACA,IAAID,OAAO,GAAG,EAAE;MAChB,IAAIwE,SAAS,GAAG9F,QAAQ,CAAC6B,aAAa,CAAE,MAAO,CAAC,CAACkE,SAAS,CAAE,IAAK,CAAC;MAClE,IAAKD,SAAS,EAAG;QAChB,MAAME,IAAI,GAAGF,SAAS,CAAC7D,gBAAgB,CAAE,cAAe,CAAC;QACzD+D,IAAI,CAAC9D,OAAO,CAAIoC,EAAE,IAAM;UACvBA,EAAE,CAAC2B,MAAM,CAAC,CAAC;QACZ,CAAE,CAAC;QACH3E,OAAO,GAAGwE,SAAS,CAACtD,WAAW;QAC/BsD,SAAS,GAAG,IAAI;MACjB;MACA,OAAOxE,OAAO;IACf;EACD,CAAC;EACD4E,SAAS,EAAE;IACVC,IAAIA,CAAA,EAAG;MACN;MACA,IAAKtG,MAAM,CAACY,eAAe,EAAG;QAC7BZ,MAAM,CAACY,eAAe,CAAC4D,MAAM,CAAC,CAAC;QAC/B5E,OAAO,CAACc,UAAU,CAAC,CAAC;QACpB,IAAKV,MAAM,CAACY,eAAe,CAAC2F,eAAe,KAAKC,SAAS,EAAG;UAC3DxG,MAAM,CAACY,eAAe,CAAC2F,eAAe,GAAG3G,OAAO,CAACc,UAAU;QAC5D;;QAEA;QACAV,MAAM,CAACyG,gBAAgB,CAAE,cAAc,EAAE,MAAM;UAC9CzG,MAAM,CAACY,eAAe,CAAC4D,MAAM,CAAC,CAAC;QAChC,CAAE,CAAC;MACJ;IACD,CAAC;IACDkC,UAAUA,CAAA,EAAG;MACZ,MAAMxB,OAAO,GAAGxF,oEAAU,CAAC,CAAC;MAC5B,OAAOwF,OAAO,CAAC/D,KAAK,CAACI,QAAQ,KAAK5B,KAAK,CAACG,YAAY,CAACyB,QAAQ;IAC9D;EACD;AACD,CAAE,CAAC;AAEH,MAAMoF,mBAAmB,CAAC;EACzBC,WAAWA,CAAA,EAAG;IACb,IAAI,CAACtG,SAAS,GAAG,IAAI;IACrB,IAAI,CAACuG,kBAAkB,GAAG,IAAI;IAC9B,IAAI,CAACC,YAAY,GAAG,EAAE;IACtB,IAAI,CAACC,KAAK,GAAG/G,MAAM,CAACY,eAAe;EACpC;EAEAyE,KAAKA,CAAE2B,IAAI,EAAEC,OAAO,EAAG;IACtB;IACA,IAAI,CAACF,KAAK,CAACvC,MAAM,CAAC,CAAC;IAEnB,IAAI,CAAClE,SAAS,GAAG,IAAIsB,wBAAwB,CAAEoF,IAAK,CAAC;IACrD,IAAI,CAACH,kBAAkB,GAAGI,OAAO;IACjC,IAAI,CAACH,YAAY,GAAGE,IAAI;IAExB,IAAI,CAAC1G,SAAS,CAAC2B,UAAU,GAAKC,KAAK,IAAM;MACxC,IAAKA,KAAK,CAACgF,IAAI,KAAK,MAAM,EAAG;QAC5B;QACA,IAAI,CAACL,kBAAkB,CAACM,SAAS,GAAG,IAAI,CAACL,YAAY;;QAErD;QACA,MAAMM,YAAY,GAAGlF,KAAK,CAACU,SAAS;QACpC,MAAMyE,UAAU,GAAGnF,KAAK,CAACW,UAAU,IAAI,CAAC;;QAExC;QACA,MAAMyE,UAAU,GAAG,IAAI,CAACR,YAAY,CAACS,SAAS,CAC7C,CAAC,EACDH,YACD,CAAC;QACD,MAAMI,eAAe,GAAG,IAAI,CAACV,YAAY,CAACS,SAAS,CAClDH,YAAY,EACZA,YAAY,GAAGC,UAChB,CAAC;QACD,MAAMI,SAAS,GAAG,IAAI,CAACX,YAAY,CAACS,SAAS,CAC5CH,YAAY,GAAGC,UAChB,CAAC;;QAED;QACA,IAAI,CAACR,kBAAkB,CAACM,SAAS,GAAG,GAAIG,UAAU,kCAAoCE,eAAe,UAAYC,SAAS,EAAG;MAC9H;IACD,CAAC;IAED,IAAI,CAACnH,SAAS,CAACgE,KAAK,GAAG,MAAM;MAC5B;MACA,IAAK,IAAI,CAACuC,kBAAkB,EAAG;QAC9B,IAAI,CAACA,kBAAkB,CAACM,SAAS,GAAG,IAAI,CAACL,YAAY;MACtD;IACD,CAAC;IAED,IAAI,CAACC,KAAK,CAAC1B,KAAK,CAAE,IAAI,CAAC/E,SAAU,CAAC;EACnC;EAEAoH,IAAIA,CAAA,EAAG;IACN,IAAI,CAACX,KAAK,CAACvC,MAAM,CAAC,CAAC;IACnB,IAAK,IAAI,CAACqC,kBAAkB,EAAG;MAC9B,IAAI,CAACA,kBAAkB,CAACM,SAAS,GAAG,IAAI,CAACL,YAAY;IACtD;EACD;AACD,C","sources":["webpack://mosne-text-to-speech-block/external module \"@wordpress/interactivity\"","webpack://mosne-text-to-speech-block/webpack/bootstrap","webpack://mosne-text-to-speech-block/webpack/runtime/make namespace object","webpack://mosne-text-to-speech-block/./src/view.js"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport { store, getContext } from '@wordpress/interactivity';\n\nconst { state, actions } = store( 'mosne-text-to-speech-block', {\n\tstate: {\n\t\tisPlaying: false,\n\t\tcurrentVoice: null,\n\t\tpreferredVoice:\n\t\t\twindow.localStorage.getItem(\n\t\t\t\t'mosne-tts-lang-' + document.documentElement.lang\n\t\t\t) || null,\n\t\tutterance: null,\n\t\tvoices: [],\n\t\tcurrentSpeed:\n\t\t\twindow.localStorage.getItem(\n\t\t\t\t'mosne-tts-speed-' + document.documentElement.lang\n\t\t\t) || 1,\n\t\tcurrentPitch:\n\t\t\twindow.localStorage.getItem(\n\t\t\t\t'mosne-tts-pitch-' + document.documentElement.lang\n\t\t\t) || 1,\n\t},\n\tactions: {\n\t\tloadVoices() {\n\t\t\tconst availableVoices = window.speechSynthesis.getVoices();\n\t\t\tif ( ! availableVoices || availableVoices.length === 0 ) {\n\t\t\t\t// If voices aren't available yet, try again after a short delay\n\t\t\t\tsetTimeout( () => actions.loadVoices(), 100 );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstate.voices = availableVoices;\n\t\t\tstate.currentVoice = availableVoices[ 0 ];\n\n\t\t\tconst currentLocale = document.documentElement.lang;\n\t\t\tconst localVoices = availableVoices.filter( ( voice ) =>\n\t\t\t\tvoice.lang.startsWith( currentLocale )\n\t\t\t);\n\n\t\t\tif ( localVoices.length > 0 ) {\n\t\t\t\tstate.voices = localVoices;\n\t\t\t\tstate.currentVoice = localVoices[ 0 ];\n\t\t\t\tif ( state.preferredVoice ) {\n\t\t\t\t\tconst voice = localVoices.find(\n\t\t\t\t\t\t( v ) => v.voiceURI === state.preferredVoice\n\t\t\t\t\t);\n\t\t\t\t\tif ( voice ) {\n\t\t\t\t\t\tstate.currentVoice = voice;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Create initial utterance after a small delay\n\t\t\tsetTimeout( () => {\n\t\t\t\tactions.createUtterance();\n\t\t\t}, 50 );\n\t\t},\n\t\tcreateUtterance() {\n\t\t\tconst content = actions.getContent();\n\n\t\t\tconst newUtterance = new window.SpeechSynthesisUtterance( content );\n\t\t\tnewUtterance.lang = document.documentElement.lang;\n\t\t\tnewUtterance.rate = state.currentSpeed;\n\t\t\tnewUtterance.pitch = state.currentPitch;\n\n\t\t\t// Get the main element for highlighting\n\t\t\tconst mainElement = document.querySelector( 'main' );\n\n\t\t\tnewUtterance.onboundary = function ( event ) {\n\t\t\t\tif ( ! mainElement ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Remove previous highlights by unwrapping\n\t\t\t\tconst highlighted = mainElement.querySelectorAll(\n\t\t\t\t\t'.mosne-tts-highlighted-word'\n\t\t\t\t);\n\t\t\t\thighlighted.forEach( ( wrapper ) => {\n\t\t\t\t\t// Replace the wrapper with its text content\n\t\t\t\t\tconst parent = wrapper.parentNode;\n\t\t\t\t\tparent.replaceChild(\n\t\t\t\t\t\tdocument.createTextNode( wrapper.textContent ),\n\t\t\t\t\t\twrapper\n\t\t\t\t\t);\n\t\t\t\t} );\n\n\t\t\t\t// Safety check for valid boundary event\n\t\t\t\tif (\n\t\t\t\t\t! event.charIndex ||\n\t\t\t\t\t! event.charLength ||\n\t\t\t\t\tevent.charIndex + event.charLength > content.length\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tconst walker = document.createTreeWalker(\n\t\t\t\t\t\tmainElement,\n\t\t\t\t\t\tNodeFilter.SHOW_TEXT,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tacceptNode( node ) {\n\t\t\t\t\t\t\t\tlet current = node.parentElement;\n\t\t\t\t\t\t\t\twhile ( current ) {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tcurrent.classList &&\n\t\t\t\t\t\t\t\t\t\tcurrent.classList.contains(\n\t\t\t\t\t\t\t\t\t\t\t'skip-speech'\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\treturn NodeFilter.FILTER_REJECT;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcurrent = current.parentElement;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn NodeFilter.FILTER_ACCEPT;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse\n\t\t\t\t\t);\n\n\t\t\t\t\tlet charCount = 0;\n\t\t\t\t\tlet node;\n\n\t\t\t\t\t// Find the text node that contains the current position\n\t\t\t\t\twhile ( ( node = walker.nextNode() ) ) {\n\t\t\t\t\t\tconst nodeLength = node.length;\n\t\t\t\t\t\tif ( charCount + nodeLength > event.charIndex ) {\n\t\t\t\t\t\t\t// Found the node containing the current position\n\t\t\t\t\t\t\tconst blockWrapper = document.querySelector(\n\t\t\t\t\t\t\t\t'[data-wp-interactive=\"mosne-text-to-speech-block\"]'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tconst highlightBackground =\n\t\t\t\t\t\t\t\tblockWrapper?.dataset.highlightBackground ||\n\t\t\t\t\t\t\t\t'#ffeb3b';\n\t\t\t\t\t\t\tconst highlightColor =\n\t\t\t\t\t\t\t\tblockWrapper?.dataset.highlightColor ||\n\t\t\t\t\t\t\t\t'#000000';\n\n\t\t\t\t\t\t\t// Create wrapper span\n\t\t\t\t\t\t\tconst wrapper = document.createElement( 'span' );\n\t\t\t\t\t\t\twrapper.className = 'mosne-tts-highlighted-word';\n\t\t\t\t\t\t\twrapper.style.setProperty(\n\t\t\t\t\t\t\t\t'--mosne-tts-highlight-bg',\n\t\t\t\t\t\t\t\thighlightBackground\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\twrapper.style.setProperty(\n\t\t\t\t\t\t\t\t'--mosne-tts-highlight-color',\n\t\t\t\t\t\t\t\thighlightColor\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Wrap the text content\n\t\t\t\t\t\t\twrapper.textContent = node.textContent;\n\t\t\t\t\t\t\tnode.parentNode.replaceChild( wrapper, node );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcharCount += nodeLength;\n\t\t\t\t\t}\n\t\t\t\t} catch ( e ) {\n\t\t\t\t\t// silent error\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Update the onend event handler to unwrap text\n\t\t\tnewUtterance.onend = function () {\n\t\t\t\tif ( mainElement ) {\n\t\t\t\t\tconst highlighted = mainElement.querySelectorAll(\n\t\t\t\t\t\t'.mosne-tts-highlighted-word'\n\t\t\t\t\t);\n\t\t\t\t\thighlighted.forEach( ( wrapper ) => {\n\t\t\t\t\t\tconst parent = wrapper.parentNode;\n\t\t\t\t\t\tparent.replaceChild(\n\t\t\t\t\t\t\tdocument.createTextNode( wrapper.textContent ),\n\t\t\t\t\t\t\twrapper\n\t\t\t\t\t\t);\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif ( state.currentVoice ) {\n\t\t\t\tconst voice = state.voices.find(\n\t\t\t\t\t( v ) => v.voiceURI === state.currentVoice.voiceURI\n\t\t\t\t);\n\t\t\t\tnewUtterance.voice = voice;\n\t\t\t}\n\t\t\tstate.utterance = newUtterance;\n\t\t},\n\t\tupdateUtterance() {\n\t\t\tconst utterance = state.utterance;\n\t\t\tif ( utterance ) {\n\t\t\t\twindow.speechSynthesis.cancel();\n\n\t\t\t\t// Remove any existing highlights\n\t\t\t\tconst mainElement = document.querySelector( 'main' );\n\t\t\t\tif ( mainElement ) {\n\t\t\t\t\tconst highlighted = mainElement.querySelectorAll(\n\t\t\t\t\t\t'.mosne-tts-highlighted-word'\n\t\t\t\t\t);\n\t\t\t\t\thighlighted.forEach( ( el ) => {\n\t\t\t\t\t\tconst parent = el.parentNode;\n\t\t\t\t\t\tparent.replaceChild(\n\t\t\t\t\t\t\tdocument.createTextNode( el.textContent ),\n\t\t\t\t\t\t\tel\n\t\t\t\t\t\t);\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\t// Update state directly without relying on context\n\t\t\t\tstate.isPlaying = false;\n\n\t\t\t\t// Check if synthesis is ready using a promise\n\t\t\t\tconst checkSynthesisReady = () => {\n\t\t\t\t\treturn new Promise( ( resolve ) => {\n\t\t\t\t\t\tconst check = () => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t! window.speechSynthesis.speaking &&\n\t\t\t\t\t\t\t\t! window.speechSynthesis.pending\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetTimeout( check, 100 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcheck();\n\t\t\t\t\t} );\n\t\t\t\t};\n\n\t\t\t\t// Wait for synthesis to be ready before creating new utterance\n\t\t\t\tcheckSynthesisReady().then( () => {\n\t\t\t\t\tactions.createUtterance();\n\t\t\t\t} );\n\t\t\t}\n\t\t},\n\t\tPlay() {\n\t\t\tconst context = getContext();\n\t\t\tcontext.isPlaying = true;\n\n\t\t\t// If paused, just resume\n\t\t\tif ( window.speechSynthesis.paused ) {\n\t\t\t\twindow.speechSynthesis.resume();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Chrome fix: force reset synthesis if it's in a bad state\n\t\t\tif ( window.speechSynthesis.speaking ) {\n\t\t\t\twindow.speechSynthesis.cancel();\n\t\t\t\tsetTimeout( () => {\n\t\t\t\t\tif ( state.utterance ) {\n\t\t\t\t\t\twindow.speechSynthesis.speak( state.utterance );\n\t\t\t\t\t}\n\t\t\t\t}, 50 );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Start new speech if not already speaking\n\t\t\tif ( state.utterance ) {\n\t\t\t\twindow.speechSynthesis.speak( state.utterance );\n\t\t\t}\n\t\t},\n\t\tPause() {\n\t\t\tconst context = getContext();\n\t\t\tcontext.isPlaying = false;\n\n\t\t\t// Only pause if currently speaking and the browser supports pausing\n\t\t\tif (\n\t\t\t\twindow.speechSynthesis.speaking &&\n\t\t\t\t! window.speechSynthesis.paused\n\t\t\t) {\n\t\t\t\twindow.speechSynthesis.pause();\n\t\t\t}\n\t\t},\n\t\tRestart() {\n\t\t\tconst context = getContext();\n\t\t\tcontext.isPlaying = false;\n\t\t\twindow.speechSynthesis.cancel();\n\n\t\t\t// Remove any existing highlights\n\t\t\tconst mainElement = document.querySelector( 'main' );\n\t\t\tconst highlighted = mainElement.querySelectorAll(\n\t\t\t\t'.mosne-tts-highlighted-word'\n\t\t\t);\n\t\t\thighlighted.forEach( ( el ) => {\n\t\t\t\tconst parent = el.parentNode;\n\t\t\t\tparent.replaceChild(\n\t\t\t\t\tdocument.createTextNode( el.textContent ),\n\t\t\t\t\tel\n\t\t\t\t);\n\t\t\t} );\n\t\t},\n\t\tchangeVoice( e ) {\n\t\t\tconst context = getContext();\n\t\t\tcontext.isPlaying = false;\n\n\t\t\t// Cancel any ongoing speech\n\t\t\twindow.speechSynthesis.cancel();\n\n\t\t\tconst voice = state.voices.find(\n\t\t\t\t( v ) => v.voiceURI === e.target.value\n\t\t\t);\n\n\t\t\tif ( voice ) {\n\t\t\t\tstate.currentVoice = voice;\n\t\t\t\twindow.localStorage.setItem(\n\t\t\t\t\t'mosne-tts-lang-' + document.documentElement.lang,\n\t\t\t\t\tvoice.voiceURI\n\t\t\t\t);\n\n\t\t\t\t// Small delay to ensure speech synthesis is ready\n\t\t\t\tsetTimeout( () => {\n\t\t\t\t\tactions.updateUtterance();\n\t\t\t\t}, 50 );\n\t\t\t}\n\t\t},\n\t\tchangeSpeed( e ) {\n\t\t\tconst context = getContext();\n\t\t\tcontext.isPlaying = false;\n\n\t\t\t// Cancel current speech\n\t\t\twindow.speechSynthesis.cancel();\n\n\t\t\t// Update state\n\t\t\tstate.currentSpeed = e.target.value;\n\t\t\twindow.localStorage.setItem(\n\t\t\t\t'mosne-tts-speed-' + document.documentElement.lang,\n\t\t\t\te.target.value\n\t\t\t);\n\n\t\t\t// Check if synthesis is ready using a promise\n\t\t\tconst checkSynthesisReady = () => {\n\t\t\t\treturn new Promise( ( resolve ) => {\n\t\t\t\t\tconst check = () => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t! window.speechSynthesis.speaking &&\n\t\t\t\t\t\t\t! window.speechSynthesis.pending\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetTimeout( check, 100 );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tcheck();\n\t\t\t\t} );\n\t\t\t};\n\n\t\t\t// Wait for synthesis to be ready before creating new utterance\n\t\t\tcheckSynthesisReady().then( () => {\n\t\t\t\tactions.createUtterance();\n\t\t\t\tif ( context.isPlaying ) {\n\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\twindow.speechSynthesis.speak( state.utterance );\n\t\t\t\t\t}, 50 );\n\t\t\t\t}\n\t\t\t} );\n\t\t},\n\t\tchangePitch( e ) {\n\t\t\tconst context = getContext();\n\t\t\tcontext.isPlaying = false;\n\n\t\t\t// Cancel current speech\n\t\t\twindow.speechSynthesis.cancel();\n\n\t\t\t// Update state\n\t\t\tstate.currentPitch = e.target.value;\n\t\t\twindow.localStorage.setItem(\n\t\t\t\t'mosne-tts-pitch-' + document.documentElement.lang,\n\t\t\t\te.target.value\n\t\t\t);\n\n\t\t\t// Check if synthesis is ready using a promise\n\t\t\tconst checkSynthesisReady = () => {\n\t\t\t\treturn new Promise( ( resolve ) => {\n\t\t\t\t\tconst check = () => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t! window.speechSynthesis.speaking &&\n\t\t\t\t\t\t\t! window.speechSynthesis.pending\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetTimeout( check, 100 );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tcheck();\n\t\t\t\t} );\n\t\t\t};\n\n\t\t\t// Wait for synthesis to be ready before creating new utterance\n\t\t\tcheckSynthesisReady().then( () => {\n\t\t\t\tactions.createUtterance();\n\t\t\t\tif ( context.isPlaying ) {\n\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\twindow.speechSynthesis.speak( state.utterance );\n\t\t\t\t\t}, 50 );\n\t\t\t\t}\n\t\t\t} );\n\t\t},\n\t\ttoggleSettings() {\n\t\t\tconst context = getContext();\n\t\t\tcontext.showSettings = ! context.showSettings;\n\t\t},\n\t\tgetContent() {\n\t\t\t// grab all the text content from the page inside the main element exclude recursivelly the text inside the class skip-speach\n\t\t\tlet content = '';\n\t\t\tlet cloneMain = document.querySelector( 'main' ).cloneNode( true );\n\t\t\tif ( cloneMain ) {\n\t\t\t\tconst skip = cloneMain.querySelectorAll( '.skip-speech' );\n\t\t\t\tskip.forEach( ( el ) => {\n\t\t\t\t\tel.remove();\n\t\t\t\t} );\n\t\t\t\tcontent = cloneMain.textContent;\n\t\t\t\tcloneMain = null;\n\t\t\t}\n\t\t\treturn content;\n\t\t},\n\t},\n\tcallbacks: {\n\t\tinit() {\n\t\t\t// Initialize voices when available\n\t\t\tif ( window.speechSynthesis ) {\n\t\t\t\twindow.speechSynthesis.cancel();\n\t\t\t\tactions.loadVoices();\n\t\t\t\tif ( window.speechSynthesis.onvoiceschanged !== undefined ) {\n\t\t\t\t\twindow.speechSynthesis.onvoiceschanged = actions.loadVoices;\n\t\t\t\t}\n\n\t\t\t\t// Add beforeunload event listener\n\t\t\t\twindow.addEventListener( 'beforeunload', () => {\n\t\t\t\t\twindow.speechSynthesis.cancel();\n\t\t\t\t} );\n\t\t\t}\n\t\t},\n\t\tisSelected() {\n\t\t\tconst context = getContext();\n\t\t\treturn context.voice.voiceURI === state.currentVoice.voiceURI;\n\t\t},\n\t},\n} );\n\nclass TextToSpeechManager {\n\tconstructor() {\n\t\tthis.utterance = null;\n\t\tthis.highlightedElement = null;\n\t\tthis.originalText = '';\n\t\tthis.synth = window.speechSynthesis;\n\t}\n\n\tspeak( text, element ) {\n\t\t// Cancel any ongoing speech\n\t\tthis.synth.cancel();\n\n\t\tthis.utterance = new SpeechSynthesisUtterance( text );\n\t\tthis.highlightedElement = element;\n\t\tthis.originalText = text;\n\n\t\tthis.utterance.onboundary = ( event ) => {\n\t\t\tif ( event.name === 'word' ) {\n\t\t\t\t// Remove previous highlighting\n\t\t\t\tthis.highlightedElement.innerHTML = this.originalText;\n\n\t\t\t\t// Calculate the word position\n\t\t\t\tconst wordPosition = event.charIndex;\n\t\t\t\tconst wordLength = event.charLength || 1;\n\n\t\t\t\t// Create highlighted version\n\t\t\t\tconst beforeText = this.originalText.substring(\n\t\t\t\t\t0,\n\t\t\t\t\twordPosition\n\t\t\t\t);\n\t\t\t\tconst highlightedWord = this.originalText.substring(\n\t\t\t\t\twordPosition,\n\t\t\t\t\twordPosition + wordLength\n\t\t\t\t);\n\t\t\t\tconst afterText = this.originalText.substring(\n\t\t\t\t\twordPosition + wordLength\n\t\t\t\t);\n\n\t\t\t\t// Apply highlighting\n\t\t\t\tthis.highlightedElement.innerHTML = `${ beforeText }<span class=\"highlighted-word\">${ highlightedWord }</span>${ afterText }`;\n\t\t\t}\n\t\t};\n\n\t\tthis.utterance.onend = () => {\n\t\t\t// Reset highlighting when speech ends\n\t\t\tif ( this.highlightedElement ) {\n\t\t\t\tthis.highlightedElement.innerHTML = this.originalText;\n\t\t\t}\n\t\t};\n\n\t\tthis.synth.speak( this.utterance );\n\t}\n\n\tstop() {\n\t\tthis.synth.cancel();\n\t\tif ( this.highlightedElement ) {\n\t\t\tthis.highlightedElement.innerHTML = this.originalText;\n\t\t}\n\t}\n}\n"],"names":["store","getContext","state","actions","isPlaying","currentVoice","preferredVoice","window","localStorage","getItem","document","documentElement","lang","utterance","voices","currentSpeed","currentPitch","loadVoices","availableVoices","speechSynthesis","getVoices","length","setTimeout","currentLocale","localVoices","filter","voice","startsWith","find","v","voiceURI","createUtterance","content","getContent","newUtterance","SpeechSynthesisUtterance","rate","pitch","mainElement","querySelector","onboundary","event","highlighted","querySelectorAll","forEach","wrapper","parent","parentNode","replaceChild","createTextNode","textContent","charIndex","charLength","walker","createTreeWalker","NodeFilter","SHOW_TEXT","acceptNode","node","current","parentElement","classList","contains","FILTER_REJECT","FILTER_ACCEPT","charCount","nextNode","nodeLength","blockWrapper","highlightBackground","dataset","highlightColor","createElement","className","style","setProperty","e","onend","updateUtterance","cancel","el","checkSynthesisReady","Promise","resolve","check","speaking","pending","then","Play","context","paused","resume","speak","Pause","pause","Restart","changeVoice","target","value","setItem","changeSpeed","changePitch","toggleSettings","showSettings","cloneMain","cloneNode","skip","remove","callbacks","init","onvoiceschanged","undefined","addEventListener","isSelected","TextToSpeechManager","constructor","highlightedElement","originalText","synth","text","element","name","innerHTML","wordPosition","wordLength","beforeText","substring","highlightedWord","afterText","stop"],"sourceRoot":""}